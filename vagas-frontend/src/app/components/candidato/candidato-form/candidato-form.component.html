<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h5 class="mb-0">
            <i class="fas fa-user me-2"></i>
            {{ isEdicao ? 'Editar Candidato' : 'Novo Candidato' }}
          </h5>
        </div>
        
        <div class="card-body">
          <form #candidatoForm="ngForm" (ngSubmit)="salvar()">
            <div class="row">
              <div class="col-md-8">
                <label class="form-label">Nome *</label>
                <input 
                  type="text" 
                  class="form-control" 
                  [(ngModel)]="candidato.nome"
                  name="nome"
                  required
                  placeholder="Digite o nome do candidato">
              </div>
            </div>
            
            <div class="row mt-3">
              <div class="col-12">
                <label class="form-label">Vagas</label>
                <div class="d-flex align-items-center">
                  <span class="badge bg-info me-2">
                    {{ vagasSelecionadas.length }} vaga(s) selecionada(s)
                  </span>
                  <button 
                    type="button" 
                    class="btn btn-outline-secondary btn-sm"
                    (click)="abrirModalVagas()">
                    <i class="fas fa-plus me-1"></i>
                    Gerenciar Vagas
                  </button>
                </div>
              </div>
            </div>
            
            <div class="row mt-4">
              <div class="col-12">
                <button 
                  type="submit" 
                  class="btn btn-success me-2"
                  [disabled]="loading || !candidatoForm.valid">
                  <i class="fas fa-save me-2"></i>
                  {{ isEdicao ? 'Atualizar' : 'Salvar' }}
                </button>
                <button 
                  type="button" 
                  class="btn btn-secondary"
                  (click)="cancelar()">
                  <i class="fas fa-times me-2"></i>
                  Cancelar
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Vagas -->
<div class="modal fade" [class.show]="showVagasModal" [style.display]="showVagasModal ? 'block' : 'none'" *ngIf="showVagasModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="fas fa-briefcase me-2"></i>
          Selecionar Vagas
        </h5>
        <button type="button" class="btn-close" (click)="fecharModalVagas()"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-12" *ngFor="let vaga of vagas">
            <div class="form-check mb-2">
              <input 
                class="form-check-input" 
                type="checkbox"
                [checked]="isVagaSelecionada(vaga.id!)"
                (change)="toggleVaga(vaga.id!)">
              <label class="form-check-label">
                {{ vaga.titulo }} - {{ vaga.empresa?.nome }}
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="fecharModalVagas()">
          <i class="fas fa-check me-2"></i>
          Confirmar
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="showVagasModal" *ngIf="showVagasModal" (click)="fecharModalVagas()"></div>
